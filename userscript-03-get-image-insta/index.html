

<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="UTF-8">
  <meta property="fb:app_id" content="190302875120198" />
  <title>UserScripts [03] Userscript Lưu Ảnh Instagram [ HellCatVN ]</title>
  
    <!-- stylesheets list from config.yml -->
    
      <link rel="stylesheet" href="/css/font-awesome.min.css">
    
      <link rel="stylesheet" href="/css/font-awesome-animation.min.css">
    
      <link rel="stylesheet" href="/css/main.css">
    
      <link rel="stylesheet" href="/css/share.min.css">
    
      <link rel="stylesheet" href="/css/hellcatvn.css">
    
      <link rel="stylesheet" href="/css/APlayer.min.css">
    
  
  <link href="https://fonts.loli.net/css?family=Sigmar One:300,300italic,400,400italic,700,700italic&amp;subset=latin,latin-ext"
        rel="stylesheet" type="text/css">
  <script type="text/javascript">
    var NexT = window.NexT || {},
      CONFIG = {
        favicon: {
          visibilitychange: !0,
          narmal: "images/favicon.ico",
          hidden: "images/failure.ico",
          show_text: "(/≧▽≦/)Welcome Back！",
          hide_text: "(●—●)Pls,Back！"
        }
      }    
  </script>
  
</head>
<body class="theme-darling">
    <div class="container sidebar-position-right page-home">
      <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
        <div class="header-inner">
          <nav class="site-nav">
            <ul id="menu" class="menu">
              
              <li class="menu-item menu-item">
                
                <a href="/ " rel="section">
                  
                  <i class="menu-item-icon fa fa-fw fa-home"></i>
                  <br /> 
                  <br>Home</a>
              </li>
              
              <li class="menu-item menu-item">
                
                <a href="/archives " rel="section">
                  
                  <i class="menu-item-icon fa fa-fw fa-archive"></i>
                  <br /> 
                  <br>Archives</a>
              </li>
              
              <li class="menu-item menu-item">
                
                <a href="/lab " rel="section">
                  
                  <i class="menu-item-icon fa fa-fw fa-flask"></i>
                  <br /> 
                  <br>Laboratory</a>
              </li>
              
              <li class="menu-item menu-item">
                
                <a href="/donate " rel="section">
                  
                  <i class="menu-item-icon fa fa-fw fa-cutlery"></i>
                  <br /> 
                  <br>Donate</a>
              </li>
              
              <li class="menu-item menu-item">
                
                <a href="/friends " rel="section">
                  
                  <i class="menu-item-icon fa fa-fw fa-mars"></i>
                  <br /> 
                  <br>Friends</a>
              </li>
              
              <li class="menu-item menu-item">
                
                <a href="/messages " rel="section">
                  
                  <i class="menu-item-icon fa fa-fw fa-pencil"></i>
                  <br /> 
                  <br>Messages</a>
              </li>
              
              <li class="menu-item menu-item">
                
                <a href="/about-me " rel="section">
                  
                  <i class="menu-item-icon fa fa-fw fa-rocket"></i>
                  <br /> 
                  <br>About Me</a>
              </li>
              
              <li class="menu-item search">
                  <form class="search-form">
                      <input name="keyword" type="text" class="search-input" placeholder="Keyword">
                      <button type="submit" class="search-submit">
                          <i class="fa fa-search"></i>
                      </button>
                  </form>
              </li>
              <li class="menu-item online">
                <span id="online-count">22</span> Onl
              </li>
            </ul>
          </nav>
          <div class="site-brand-wrapper" style="background-image:url(images/header-darlings.jpg)">
            <div class="site-meta">
              <div class="custom-logo-site-title">
                <div class="brand">
                  <span class="logo-line-before">
                    <i></i>
                  </span>
                  <div class="site-title">
                    <div id="animate" class="animate">
                      <span>W</span>
                      <span>e</span>
                      <span>l</span>
                      <span>c</span>
                      <span>o</span>
                      <span>m</span>
                      <span>e</span>
                    </div>
                    <div id="guide" class="guide">
                      <span>W</span>
                      <span>e</span>
                      <span>l</span>
                      <span>c</span>
                      <span>o</span>
                      <span>m</span>
                      <span>e</span>
                    </div>
                  </div>
                  <span class="logo-line-after">
                    <i></i>
                  </span>
                </div>
              </div>
              <p class="site-subtitle"></p>
            </div>
            <div class="site-nav-toggle">
              <button>
                <span class="btn-bar"></span>
                <span class="btn-bar"></span>
                <span class="btn-bar"></span>
              </button>
            </div>
          </div>
          <div class="site-master" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <img class="site-master-avatar" itemprop="image" src="https://hellcatvn.github.io/images/hellcatvn.png" alt="HellCatVN">
            <h2 class="site-master-description" itemprop="description">
              <span style="color:#3369e8">Write</span>
              <span style="color:#d50f25">the</span>
              <span style="color:#eeb211">Code,</span>
              <span style="color:#3369e8">Change</span>
              <span style="color:#009925">the</span>
              <span style="color:#d50f25">World.</span>
            </h2>
          </div>
        </div>
      </header>
      <main id="main" class="main">
        <div class="main-inner">
          <div class="content-wrap">
            <div id="content" class="content">
              <section id="posts" class="posts-expand">
                
  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
    <div class="post-date">
      <div class="post-month">
        May
      </div>
      <div class="post-day">
        06
      </div>
    </div>
    
      <div class="post-badge">
        
          <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
            <a href="#" itemprop="url" rel="index">
              <span itemprop="name">
                UserScripts
              </span>
            </a>
          </span>
          
          <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
          <script type="text/javascript">var clipboard = new ClipboardJS('#getContent');</script>
          
          
      </div>
      
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="../userscript-03-get-image-insta/">
      <span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <meta itemprop="name" content="HellCatVN">
        <meta itemprop="description" content="">
        <meta itemprop="image" content="images/DIYgod.jpg">
      </span>
      <span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="HellCatVN">
      </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          <a class="post-title-link" href="../userscript-03-get-image-insta/" itemprop="url">
            UserScripts [03] Userscript Lưu Ảnh Instagram
          </a>
        </h1>
        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Published on</span>
            <time title="publishedday" itemprop="dateCreated datePublished" datetime="2018-05-06T23:14:33+07:00">
              2018-05-06
            </time>
          </span>
          <span class="post-category">
            <span class="post-meta-divider">•</span>
            <span class="post-meta-item-icon">
              <i class="fa fa-folder-o"></i>
            </span>
            <span class="post-meta-item-text">
              
            </span>
            
              <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                <a href="/categories/Nodejs/" itemprop="url" rel="index">
                  <span itemprop="name">
                    UserScripts
                  </span>
                </a>
              </span>
              
          </span>
          <span id="userscript-03-get-image-insta" class="leancloud_visitors" data-flag-title="">
            <span class="post-meta-divider">•</span>
            <span class="post-meta-item-icon">
              <i class="fa fa-eye"></i>
            </span>
            <span class="post-meta-item-text">Views:</span>
            <span class="leancloud-visitors-count"></span>
          </span>
        </div>
      </header>
      <div class="post-body" itemprop="articleBody">
        <p>Chuỗi Bài Này Mình Mình Viết Hơi Mất Thứ Tự Tí Do Mình Đang Chuẩn Bị Phần 1 Và Phần 2<br>Như các bạn đã biết thì instagram thường không cho người dùng tải xuống ảnh từ điện thoại kể cả trang web của họ.<br>Hôm trước mình có chia sẽ cách để các bạn có thể download dc ảnh từ điện thoại nhờ chatbot của Facebook Messenger<br><a id="more"></a><br>Link Bài Viết: <a href="../chat-fuel-01-api-instagram.html">Xem Tại Đây</a><br>Nhưng mặt hạn chế của code trên là nếu ko send cookie cho chatbot thì ko thể lấy dc private picture hay video,và cách để lấy cookie thì khá là phức tạp và dài nếu bạn phải làm nhiều,nên mình đã tạo nên 1 userscript các bạn có thể pin script này vào bookmarklets để sử dụng chỉ cần ấn và dùng thôi rất nhanh tiện lợi và không hề nặng nề gì cả<br>Link Của Bookmarklets:<a href="https://blog.hellcatvn.com/Userscripts/bookmarklets" target="_blank" rel="noopener">Tại Đây</a><br>Đã mã hóa vì lí do bản quyền (hihi):<br>Scripts Get Ảnh:<a href="https://raw.githubusercontent.com/HellCatVN/Userscripts/master/bookmarkScripts/getInstagramImage.js" target="_blank" rel="noopener">Tại Đây</a><br>Scripts Get Video:<a href="https://raw.githubusercontent.com/HellCatVN/Userscripts/master/bookmarkScripts/getInstagramVideo.js" target="_blank" rel="noopener">Tại Đây</a><br>Video Hướng Dẫn:</p>
<p><iframe width="560" height="315" src="https://www.youtube.com/embed/a-C6ycP0vqQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe><br>Như mọi lần mọi thắc mắc các bạn có thể để lại dưới bình luận</p>

      </div>
      <div class="post-share">Share：</div>
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
          <div></div>
          <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
            <span>Donation</span>
          </button>
          <div id="QR" style="display: none;">
            <div id="bitcoin" style="display: inline-block">
              <img id="bitcoin_qr" src="/images/bitcoin.png" alt="" />
              <p>Bitcoin Donation</p>
            </div>
          </div>
        </div>
      </div>
      <footer class="post-footer">
        
          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="https://hellcatvn.github.io/chat-fuel-01-api-instagram/" rel="next" title="ChatFuel [01] Api Lưu Ảnh Video Công Khai Instagram">
                  <i class="fa fa-chevron-left"></i>
                  ChatFuel [01] Api Lưu Ảnh Video Công Khai Instagram
                </a>
                
            </div>
            <span class="post-nav-divider"></span>
            <div class="post-nav-prev post-nav-item">
              
                <a href="https://hellcatvn.github.io/userscript-01-gioi-thieu/" rel="prev" title="UserScripts [01] Giới thiệu về UserScripts">
                  UserScripts [01] Giới thiệu về UserScripts
                    <i class="fa fa-chevron-right"></i>
                </a>
                
            </div>
          </div>
          
      </footer>
    </div>
  </article>
  <div class="comments" id="comments">
<div id="fb-root"></div>
<script>(function (d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = 'https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v3.0&appId=190302875120198&autoLogAppEvents=1';
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>
    <div class="fb-comments" data-href="https://hellcatvn.github.io/userscript-03-get-image-insta/" data-numposts="10"></div>
</div>
              </section>
            </div>
          </div>
          <div class="sidebar-toggle">
            <div class="sidebar-toggle-line-wrap">
              <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
              <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
              <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
            </div>
          </div>
          <aside id="sidebar" class="sidebar">
            <div class="sidebar-inner affix-top" style="">
              <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
                <div class="site-overview">
                  <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                    <img class="site-author-image" itemprop="image" src="https://hellcatvn.github.io/images/catcard.jpg" alt="HellCatVN">
                    <p class="site-author-name" itemprop="name">
                      <span style="opacity:1.2">Hi,</span>I'm HellCatVN</p>
                    <p class="site-description motion-element" itemprop="description">WelCome To My Website</p>
                  </div>
                  <div class="links-of-author motion-element">
                    <span class="links-of-author-item">
                      <a href="https://github.com/HellCatVN" target="_blank" title="GitHub" data-balloon="GitHub" data-balloon-pos="up">
                        <i class="fa fa-fw fa-github"></i>
                      </a>
                    </span>
                    <span class="links-of-author-item">
                      <a href="#" target="_blank" title="Twitter" data-balloon="Twitter" data-balloon-pos="up">
                        <i class="fa fa-fw fa-twitter"></i>
                      </a>
                    </span>
                    <span class="links-of-author-item">
                      <a href="https://m.me/veroiobot" target="_blank" title="Messenger" data-balloon="Messenger" data-balloon-pos="up">
                        <i class="fa fa-fw fa-facebook"></i>
                      </a>
                    </span>
                    <span class="links-of-author-item">
                      <a href="#" target="_blank" title="Telegram Channel" data-balloon="Telegram Channel" data-balloon-pos="up">
                        <i class="fa fa-fw fa-telegram"></i>
                      </a>
                    </span>
                    <span class="links-of-author-item">
                      <a href="# target=" _blank " title="Other " data-balloon="Other " data-balloon-pos="up">
                                            <i class="fa fa-fw fa-more "></i>
                                        </a>
                                    </span>
                                </div>
                                <div class="feed-link motion-element ">
                                    <a href="/atom.xml " rel="alternate ">
                                        <i class="fa fa-rss "></i> RSS</a>
                                </div>
                                <nav class="site-state motion-element ">
                                    <div class="site-state-item site-state-posts ">
                                        <a href="/archives ">
                                            <span class="site-state-item-count ">46</span>
                                            <span class="site-state-item-name ">Project Complete</span>
                                        </a>
                                    </div>
                                    <div class="site-state-item site-state-categories ">
                                        <a href="/categories/index.html ">
                                            <span class="site-state-item-count ">5</span>
                                            <span class="site-state-item-name ">Progarming Languages</span>
                                        </a>
                                    </div>
                                </nav>
                                <div class="cc-license motion-element " itemprop="license ">
                                    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/ " class="cc-opacity
                        " target="_blank ">
                                        <img src="https://hellcatvn.github.io/images/cc-by-nc-sa.png " alt="Creative Commons ">
                                    </a>
                                </div>
                            </div>
                        </section>
                    </div>
                </aside>
        </div>
        </main>
        <footer id="footer " class="footer ">
            <div class="footer-image "></div>
            <div class="footer-inner ">
                <p>Blog has sprouted
                    <span id="since ">25-12-2015</span>
                    <span class="my-face ">(●'◡'●)ﾉ♥</span>
                </p>
                <p>Hosted on
                    <a href="https://github.com/ " target="_blank " rel="nofollow "> GitHub</a>.
                    <a href="http://www.google.com/analytics/ " target="_blank " rel="nofollow ">Google Analytics </a>Provide website statistics service.
                    <a href="https://www.cloudflare.com/ " target="_blank " rel="nofollow ">CloudFlare </a>Provide DNS resolution service
                <p>©
                    <span itemprop="copyrightYear ">2018</span> Hi, I'm HellCatVN|Theme By
                    <a href="https://github.com/theme-next/hexo-theme-next" target="_blank " class="external "
                        rel="nofollow ">NexT</a> v0.0.16.
                    <a href="../sitemap.xml " target="_blank ">SiteMap</a></p>
                <p>Made with
                    <i class="fa fa-heart faa-pulse animated " style="color:#d43f57 "></i> by
                    <span class="author " itemprop="copyrightHolder ">HellCatVN</span>.</p>
            </div>
        </footer>
        <canvas id="evanyou-canvas"></canvas>
        <div id="aplayer"></div>
        <div class="back-to-top active " style="top: -900px; ">
            <i class="fa fa-arrow-up "></i>
        </div>
        </div>
        

  <!-- scripts list from theme config.yml -->
  
    <script src="/js/jquery-3.3.1.min.js"></script>
  
    <script src="/js/jquery.gsap.min.js"></script>
  
    <script src="/js/plugins/CSSPlugin.min.js"></script>
  
    <script src="/js/TweenLite.min.js"></script>
  
    <script src="/js/utils/Draggable.min.js"></script>
  
    <script src="/js/easing/EasePack.min.js"></script>
  
    <script src="/js/lazyload.js"></script>
  
    <script src="/js/moment.min.js"></script>
  
    <script src="/js/headroom.js"></script>
  
    <script src="/js/hellcatvn.js"></script>
  
    <script src="/js/jquery.share.min.js"></script>
  
    <script src="/js/color.js"></script>
  
    <script src="/js/APlayer.min.js"></script>
  

    <script>
    $(document).ready(function () {
      function share() {
        if ($(".post-share").length) {
          $(".post-share").share({
            disabled: ['douban','diandian'],
            wechatQrcodeTitle: "WeChat Scan",
            wechatQrcodeHelper: "<p>WeChat scan, share in the upper right corner</p>",
            source: "HellCatVN Blog"
          });
        }
      }
      share();
    })    
    </script>
    <script>
      const ap = new APlayer({
        container: document.getElementById('aplayer'),
        mini: true,
        fixed: true,
        autoplay: false,
        loop: 'all',
        order: 'random',
        preload: 'auto',
        volume: 0.7,
        mutex: true,
        listFolded: false,
        listMaxHeight: '90px',
        lrcType: 0,
        audio: [{
          name: 'Be Your EveryThing',
          artist: 'Boy Like Girls',
          url: '../mp3/BeYourEverything.mp3',
          cover: '',
        }]
      });
    </script>    

<script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
<script>AV.initialize("8yyK153myENY4PL4lfa4W4wc-gzGzoHsz", "IK2SaH7qCFqqvwNJhxkIyQnA");</script>
<script>
    function showTime(Counter) {
        var query = new AV.Query(Counter);
        var entries = [];
        var $visitors = $(".leancloud_visitors");

        $visitors.each(function () {
            entries.push($(this).attr("id").trim());
        });

        query.containedIn('url', entries);
        query.find()
            .done(function (results) {
                var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

                if (results.length === 0) {
                    $visitors.find(COUNT_CONTAINER_REF).text(0);
                    return;
                }

                for (var i = 0; i < results.length; i++) {
                    var item = results[i];
                    var url = item.get('url');
                    var time = item.get('time');
                    var element = document.getElementById(url);

                    $(element).find(COUNT_CONTAINER_REF).text(time);
                }
                for (var i = 0; i < entries.length; i++) {
                    var url = entries[i];
                    var element = document.getElementById(url);
                    var countSpan = $(element).find(COUNT_CONTAINER_REF);
                    if (countSpan.text() == '') {
                        countSpan.text(0);
                    }
                }
            })
            .fail(function (object, error) {
                console.log("Error: " + error.code + " " + error.message);
            });
    }

    function addCount(Counter) {
        var $visitors = $(".leancloud_visitors");
        var url = $visitors.attr('id').trim();
        var title = $visitors.attr('data-flag-title').trim();
        var query = new AV.Query(Counter);

        query.equalTo("url", url);
        query.find({
            success: function (results) {
                if (results.length > 0) {
                    var counter = results[0];
                    counter.fetchWhenSave(true);
                    counter.increment("time");
                    counter.save(null, {
                        success: function (counter) {
                            var $element = $(document.getElementById(url));
                            $element.find('.leancloud-visitors-count').text(counter.get('time'));
                        },
                        error: function (counter, error) {
                            console.log('Failed to save Visitor num, with error message: ' + error.message);
                        }
                    });
                } else {
                    var newcounter = new Counter();
                    /* Set ACL */
                    var acl = new AV.ACL();
                    acl.setPublicReadAccess(true);
                    acl.setPublicWriteAccess(true);
                    newcounter.setACL(acl);
                    /* End Set ACL */
                    newcounter.set("title", title);
                    newcounter.set("url", url);
                    newcounter.set("time", 1);
                    newcounter.save(null, {
                        success: function (newcounter) {
                            var $element = $(document.getElementById(url));
                            $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
                        },
                        error: function (newcounter, error) {
                            console.log('Failed to create');
                        }
                    });
                }
        },
    error: function(error) {
        console.log('Error:' + error.code + " " + error.message);
    }
      });
    }

    $(function () {
        var Counter = AV.Object.extend("Counter");
        if ($('.leancloud_visitors').length == 1) {
            addCount(Counter);
        } else if ($('.post-title-link').length > 1) {
            showTime(Counter);
        }
    });
</script>

</body>
</html>
